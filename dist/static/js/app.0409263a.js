(function(e){function n(n){for(var r,u,i=n[0],a=n[1],l=n[2],f=0,d=[];f<i.length;f++)u=i[f],Object.prototype.hasOwnProperty.call(c,u)&&c[u]&&d.push(c[u][0]),c[u]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);s&&s(n);while(d.length)d.shift()();return o.push.apply(o,l||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],r=!0,i=1;i<t.length;i++){var a=t[i];0!==c[a]&&(r=!1)}r&&(o.splice(n--,1),e=u(u.s=t[0]))}return e}var r={},c={app:0},o=[];function u(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.m=e,u.c=r,u.d=function(e,n,t){u.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,n){if(1&n&&(e=u(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)u.d(t,r,function(n){return e[n]}.bind(null,r));return t},u.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(n,"a",n),n},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},u.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],a=i.push.bind(i);i.push=n,i=i.slice();for(var l=0;l<i.length;l++)n(i[l]);var s=a;o.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"242c":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("7a23"),c=(t("99af"),function(e){return Object(r["m"])("data-v-e3b56400"),e=e(),Object(r["l"])(),e}),o={class:"app"},u=c((function(){return Object(r["f"])("h1",null,"2048",-1)})),i=Object(r["g"])(" Score: "),a={class:"container"},l={key:0,class:"mask"},s=c((function(){return Object(r["f"])("h1",null,"You win!",-1)})),f={key:1,class:"mask"},d=c((function(){return Object(r["f"])("h1",null,"Game over!",-1)})),b={class:"number-cells"},m=["id"];function v(e,n,t,c,v,p){var y=Object(r["p"])("Background");return Object(r["k"])(),Object(r["e"])("div",o,[Object(r["f"])("header",null,[u,Object(r["f"])("button",{onClick:n[0]||(n[0]=function(){return c.init&&c.init.apply(c,arguments)}),class:"init-button"},"New Game"),Object(r["f"])("p",null,[i,Object(r["f"])("span",null,Object(r["q"])(c.data.score),1)])]),Object(r["f"])("div",a,[c.data.success?(Object(r["k"])(),Object(r["e"])("div",l,[s,Object(r["f"])("button",{onClick:n[1]||(n[1]=function(){return c.init&&c.init.apply(c,arguments)}),class:"init-button"},"Try again")])):Object(r["d"])("",!0),c.data.gameover?(Object(r["k"])(),Object(r["e"])("div",f,[d,Object(r["f"])("button",{onClick:n[2]||(n[2]=function(){return c.init&&c.init.apply(c,arguments)}),class:"init-button"},"Try again")])):Object(r["d"])("",!0),Object(r["h"])(y),Object(r["f"])("div",b,[Object(r["h"])(r["b"],{name:"appear"},{default:Object(r["r"])((function(){return[(Object(r["k"])(!0),Object(r["e"])(r["a"],null,Object(r["o"])(c.data.numberCells,(function(e){return Object(r["k"])(),Object(r["e"])("div",{class:"number-cell",id:"c".concat(e.id),key:e.id,style:Object(r["i"])("\n          width: 80px;\n          height: 80px;\n          border-radius: 5px;\n          font-size: 32px;\n          font-weight: bold;\n          line-height: 80px;\n          color: #776e65;\n\n          position: absolute;\n          z-index: ".concat(e.num,";\n          backgroundColor: ").concat(e.color,";\n          top: ").concat(c.getTop(e),";\n          left: ").concat(c.getLeft(e),";\n          "))},Object(r["q"])(e.num),13,m)})),128))]})),_:1})])])])}var p=t("53ca"),y=(t("7db0"),t("d3b7"),t("c740"),t("4e82"),t("4de4"),t("a434"),{class:"background"});function O(e,n,t,c,o,u){return Object(r["k"])(),Object(r["e"])("div",y,[(Object(r["k"])(),Object(r["e"])(r["a"],null,Object(r["o"])(16,(function(e){return Object(r["f"])("div",{key:e,class:"grid-cell"})})),64))])}var j={},g=(t("bb43"),t("6b0d")),x=t.n(g);const h=x()(j,[["render",O],["__scopeId","data-v-09668efc"]]);var k=h,C={name:"App",components:{Background:k},setup:function(){var e=Object(r["n"])({score:0,numberCells:[],color:{2:"#eee4da",4:"#ede0c8",8:"#f2b179",16:"#f59563",32:"#f67c5f",64:"#f65e3b",128:"#edcf72",256:"#edcc61",512:"#0444BF",1024:"#A79674",2048:"#282726",4096:"#280b21",8192:"#281d04"},auxId:0,success:!1,gameover:!1,canMove:!0});function n(){e.numberCells.length=0,e.score=0,e.auxId=0,e.success=!1,e.gameover=!1,t(),t()}function t(){if(!O()){var n=c(),t={x:o(),y:o(),num:n,color:e.color[n],id:e.auxId++},r=function(){return u({x:t.x,y:t.y})};while(r())t.x=o(),t.y=o();e.numberCells.push(t)}}function c(){return Math.random()<=.7?2:4}function o(){return parseInt(4*Math.random())}function u(n){var t=n.x,r=n.y;return e.numberCells.find((function(e){return e.x===t&&e.y===r}))}function i(e){return"".concat(20+95*e.y,"px")}function a(e){return"".concat(20+95*e.x,"px")}function l(e,n){return e.x-n.x}function s(e,n){return e.y-n.y}function f(n){return e.numberCells.findIndex((function(e){return e.id===n}))}function d(n){n.animate([{transform:"scale(0)"},{transform:"scale(1.2)"},{transform:"scale(1)"}],{duration:150}),e.canMove=!0}function b(){for(var n=!1,r=function(t){for(var r=e.numberCells.filter((function(e){return e.y===t})).sort(l),c=!1,o=function(t){if(0===t)0!==r[t].x&&(r[t].x=0,n=!0);else if(r[t].num!==r[t-1].num||c)r[t].x!==r[t-1].x+1&&(r[t].x=r[t-1].x+1,n=!0,c=!1);else{r[t].x=r[t-1].x,e.canMove=!1;var o=document.querySelector("#c".concat(r[t].id));o.addEventListener("transitionend",(function(){var n=2*r[t].num;r[t-1].num=n,r[t-1].color=e.color[n];var c=document.querySelector("#c".concat(r[t-1].id));d(c),e.numberCells.splice(f(r[t].id),1),r.splice(t,1),t--,e.score+=n}),!0),n=!0,c=!0}u=t},u=0;u<r.length;u++)o(u)},c=0;c<4;c++)r(c);n&&t()}function m(){for(var n=!1,r=function(t){for(var r=e.numberCells.filter((function(e){return e.y===t})).sort(l),c=!1,o=function(t){if(t===r.length-1)3!==r[t].x&&(r[t].x=3,n=!0);else if(r[t].num!==r[t+1].num||c)r[t].x!==r[t+1].x-1&&(r[t].x=r[t+1].x-1,n=!0,c=!1);else{r[t].x=r[t+1].x,e.canMove=!1;var o=document.querySelector("#c".concat(r[t].id));o.addEventListener("transitionend",(function(){var n=2*r[t].num;r[t+1].num=n,r[t+1].color=e.color[n];var c=document.querySelector("#c".concat(r[t+1].id));d(c),e.numberCells.splice(f(r[t].id),1),r.splice(t,1),e.score+=n}),!0),n=!0,c=!0}},u=r.length-1;u>=0;u--)o(u)},c=0;c<4;c++)r(c);n&&t()}function v(){for(var n=!1,r=function(t){for(var r=e.numberCells.filter((function(e){return e.x===t})).sort(s),c=!1,o=function(t){if(0===t)0!==r[t].y&&(r[t].y=0,n=!0);else if(r[t].num!==r[t-1].num||c)r[t].y!==r[t-1].y+1&&(r[t].y=r[t-1].y+1,n=!0,c=!1);else{r[t].y=r[t-1].y,e.canMove=!1;var o=document.querySelector("#c".concat(r[t].id));o.addEventListener("transitionend",(function(){var n=2*r[t].num;r[t-1].num=n,r[t-1].color=e.color[n];var c=document.querySelector("#c".concat(r[t-1].id));d(c),e.numberCells.splice(f(r[t].id),1),r.splice(t,1),t--,e.score+=n}),!0),n=!0,c=!0}u=t},u=0;u<r.length;u++)o(u)},c=0;c<4;c++)r(c);n&&t()}function y(){for(var n=!1,r=function(t){for(var r=e.numberCells.filter((function(e){return e.x===t})).sort(s),c=!1,o=function(t){if(t===r.length-1)3!==r[t].y&&(r[t].y=3,n=!0);else if(r[t].num!==r[t+1].num||c)r[t].y!==r[t+1].y-1&&(r[t].y=r[t+1].y-1,n=!0,c=!1);else{r[t].y=r[t+1].y,e.canMove=!1;var o=document.querySelector("#c".concat(r[t].id));o.addEventListener("transitionend",(function(){var n=2*r[t].num;r[t+1].num=n,r[t+1].color=e.color[n];var c=document.querySelector("#c".concat(r[t+1].id));d(c),e.numberCells.splice(f(r[t].id),1),r.splice(t,1),e.score+=n}),!0),n=!0,c=!0}},u=r.length-1;u>=0;u--)o(u)},c=0;c<4;c++)r(c);n&&t()}function O(){return e.numberCells.length>15}function j(){return!!e.numberCells.find((function(e){return 8192===e.num}))}function g(){var n=function(){for(var n=function(n){for(var t=e.numberCells.filter((function(e){return e.y===n})).sort(l),r=0;r<4;r++){if(n<3&&t[r].num===u({x:r,y:n+1}).num)return{v:!1};if(r<3&&t[r].num===t[r+1].num)return{v:!1}}},t=0;t<4;t++){var r=n(t);if("object"===Object(p["a"])(r))return r.v}return!0};return O()&&n()}return Object(r["j"])((function(){console.log("Component is mounted!"),n(),document.addEventListener("keyup",(function(n){if(e.canMove)switch(n.key.toLocaleUpperCase()){case"ARROWUP":case"W":v(),e.success=j(),e.gameover=g();break;case"ARROWDOWN":case"S":y(),e.success=j(),e.gameover=g();break;case"ARROWLEFT":case"A":b(),e.success=j(),e.gameover=g();break;case"ARROWRIGHT":case"D":m(),e.success=j(),e.gameover=g();break}}))})),{data:e,init:n,generateOneNumberCell:t,random24:c,random0123:o,getCellByPoint:u,getTop:i,getLeft:a,sortByX:l,sortByY:s,getIndexById:f,animateMerge:d,moveLeft:b,moveRight:m,moveUp:v,moveDown:y,isFull:O,isSuccess:j,isGameOver:g}}};t("6943");const w=x()(C,[["render",v],["__scopeId","data-v-e3b56400"]]);var S=w;Object(r["c"])(S).mount("#app")},6943:function(e,n,t){"use strict";t("242c")},bb43:function(e,n,t){"use strict";t("c8e1")},c8e1:function(e,n,t){}});
//# sourceMappingURL=app.0409263a.js.map